<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Charlie Sands</title>
  <meta name="description" content="Charlie Sands" />
  <link rel="stylesheet" href="shared.css">
  <style>
    .header-row { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px; gap: 16px; }
    .header-title h1 { margin: 0; font-family: 'Cormorant', serif; font-size: 32px; font-weight: 300; text-transform: lowercase; letter-spacing: 0.05em; line-height: 1.2; }
    .contact-info { margin: 12px 0 0; font-family: 'IBM Plex Mono', monospace; font-size: 11px; color: var(--text-muted); opacity: 0.5; }
    .contact-info a { color: var(--text-muted); }
    .contact-info a:hover { color: var(--text); text-decoration: none; }
    .copy-button-container { position: relative; flex-shrink: 0; }
    .copy-button-group { display: flex; border: 1px solid var(--border); overflow: hidden; opacity: 0.4; transition: opacity 0.5s; }
    .copy-button-group:hover { opacity: 0.8; }
    .copy-btn { display: flex; align-items: center; gap: 8px; padding: 8px 14px; background: transparent; border: none; color: var(--text); font-size: 11px; font-family: 'IBM Plex Mono', monospace; cursor: pointer; transition: background 0.4s; }
    .copy-btn:hover { background: var(--btn-hover); }
    .copy-btn svg { width: 14px; height: 14px; }
    .dropdown-toggle { display: flex; align-items: center; padding: 8px 10px; background: transparent; border: none; border-left: 1px solid var(--border); color: var(--text); cursor: pointer; transition: background 0.4s; }
    .dropdown-toggle:hover { background: var(--btn-hover); }
    .dropdown-toggle svg { width: 14px; height: 14px; }
    .dropdown-menu { position: absolute; top: 100%; right: 0; margin-top: 4px; background: var(--dropdown-bg); border: 1px solid var(--border); box-shadow: 0 4px 16px var(--dropdown-shadow); display: none; min-width: 220px; z-index: 100; overflow: hidden; }
    .dropdown-menu.open { display: block; }
    .dropdown-item { display: flex; align-items: flex-start; gap: 12px; padding: 12px 16px; background: transparent; border: none; color: var(--text); font-size: 12px; font-family: 'IBM Plex Mono', monospace; cursor: pointer; width: 100%; text-align: left; transition: background 0.4s; }
    .dropdown-item:hover { background: var(--btn-hover); }
    .dropdown-item svg { width: 18px; height: 18px; flex-shrink: 0; margin-top: 2px; }
    .dropdown-item-content { display: flex; flex-direction: column; }
    .dropdown-item-title { font-weight: 400; }
    .dropdown-item-desc { font-size: 11px; color: var(--text-muted); margin-top: 2px; }
    .copy-toast { position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%); background: var(--dropdown-bg); color: var(--text); padding: 10px 20px; border: 1px solid var(--border); font-size: 12px; font-family: 'IBM Plex Mono', monospace; opacity: 0; transition: opacity 0.4s; pointer-events: none; }
    .copy-toast.show { opacity: 1; }
    #content h1 { font-family: 'Cormorant', serif; font-size: 24px; margin: 0 0 20px; font-weight: 300; text-transform: lowercase; }
    #content h2 { font-family: 'Cormorant', serif; font-size: 18px; font-weight: 400; text-transform: lowercase; margin: 48px 0 16px; color: var(--text); padding-bottom: 8px; border-bottom: 1px solid var(--border); }
    #content h3 { font-family: 'Cormorant', serif; font-size: 16px; margin: 32px 0 12px; font-weight: 400; text-transform: lowercase; color: var(--text); }
    #content p { margin: 12px 0; }
    #content strong { font-weight: 500; }
    #content ul { list-style: none; padding-left: 20px; margin: 12px 0; }
    #content li { margin: 6px 0; position: relative; }
    #content li::before { content: '–'; position: absolute; left: -16px; color: var(--text-faint); }
    #content ul ul { padding-left: 20px; }
    #content ul ul li::before { content: '·'; color: var(--text-faint); }
  </style>
</head>
<body>
  <button class="theme-toggle" id="themeToggle" title="Toggle theme">
    <svg id="sunIcon" class="hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
    <svg id="moonIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </svg>
  </button>

  <div class="nav-bar">
    <nav class="site-nav">
      <a class="site-name" href="index.html">Charlie Sands</a>
      <div class="nav-links">
        <a href="index.html" class="active">CV</a><span class="sep">·</span>
        <a href="pictures/index.html">Pictures</a><span class="sep">·</span>
        <a href="writing/index.html">Writing</a><span class="sep">·</span>
        <a href="links/index.html">Links</a><span class="sep">·</span>
        <a href="game/index.html">Game</a>
      </div>
    </nav>
  </div>

  <main class="wrap">
    <div class="header-row">
      <div class="header-title">
        <h1>Charlie Sands</h1>
        <p class="contact-info">+447375100147 · <a href="mailto:cs@charliesands.com">cs@charliesands.com</a></p>
      </div>
      <div class="copy-button-container">
        <div class="copy-button-group">
          <button class="copy-btn" id="copyBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            Copy page
          </button>
          <button class="dropdown-toggle" id="dropdownToggle">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
        </div>
        <div class="dropdown-menu" id="dropdownMenu">
          <button class="dropdown-item" id="copyMenuItem">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            <span class="dropdown-item-content">
              <span class="dropdown-item-title">Copy page</span>
              <span class="dropdown-item-desc">Copy page as Markdown</span>
            </span>
          </button>
          <button class="dropdown-item" id="viewMarkdownItem">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
            </svg>
            <span class="dropdown-item-content">
              <span class="dropdown-item-title">View as Markdown ↗</span>
              <span class="dropdown-item-desc">View this page as plain text</span>
            </span>
          </button>
        </div>
      </div>
    </div>

    <div id="content"></div>
    <div id="copyToast" class="copy-toast">Copied to clipboard</div>
  </main>

  <script src="shared.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    // Fallback content for local file:// access
    const fallbackMarkdown = `# Charlie Sands

*+447375100147* · *cs@charliesands.com*

## Experience

**Fuse Energy** · Snr. Ops Manager · 2023-2026

- End-to-end ownership of gas business
    - Worked across engineering, design, trading, compliance, finance, and operations
    - Obtained licenses to supply and ship gas in the UK
    - Negotiated contracts across all consumables and service providers
    - Wrote product, engineering, and operations specs defining data architecture and business logic
    - Fuse gained £300M ARR within 2 months of product launch
- Hiring & Team Building
    - Interviewed and hired 100+ new staff
- Operations
    - Designed scalable routing and scheduling tool for DER installation business

## Education

**NYU** · Politics & Aesthetics · 2020–2023

**Pratt Institute** · Fine Art · 2018–2019

## Qualifications

**Licensed Emergency Medical Technician** · State of New York

## Interests

- Classical piano
- Racket sports
- Swimming`;

    let markdownText = '';

    function renderMarkdown(text) {
      markdownText = text;
      // Skip the title line and contact line since we show title in header
      const lines = text.split('\n');
      const contentWithoutTitle = lines.slice(4).join('\n');
      document.getElementById('content').innerHTML = marked.parse(contentWithoutTitle);
    }

    // Try to fetch cv.md, fall back to embedded content
    fetch('cv.md')
      .then(response => {
        if (!response.ok) throw new Error('Not found');
        return response.text();
      })
      .then(renderMarkdown)
      .catch(() => renderMarkdown(fallbackMarkdown));

    // Copy to clipboard function
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        const toast = document.getElementById('copyToast');
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 2000);
      });
    }

    document.getElementById('copyBtn').addEventListener('click', () => copyToClipboard(markdownText));

    document.getElementById('dropdownToggle').addEventListener('click', (e) => {
      e.stopPropagation();
      document.getElementById('dropdownMenu').classList.toggle('open');
    });

    document.addEventListener('click', () => document.getElementById('dropdownMenu').classList.remove('open'));

    document.getElementById('copyMenuItem').addEventListener('click', () => {
      copyToClipboard(markdownText);
      document.getElementById('dropdownMenu').classList.remove('open');
    });

    document.getElementById('viewMarkdownItem').addEventListener('click', () => {
      const blob = new Blob([markdownText], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      window.open(url, '_blank');
      document.getElementById('dropdownMenu').classList.remove('open');
    });
  </script>
</body>
</html>